<h1>编辑文章</h1>

<div class="combo_box">
    <input id="article_title" type="text" spellcheck="false" class="line_editor big_name" placeholder="文章标题" autocomplete="off"/>
    <input type="button" class="commit" value="提交" onclick="saveArticle(this)" article-id="{{ article_id }}"/>
</div>
<hr/>
<textarea id="article_content" spellcheck="false" class="editor big_editor" placeholder="文章内容(采用GitHub Flavored Markdown)"></textarea>

<script id="getid" article-id="{{ article_id }}">
    function getContent(request)
    {
        if(request.readyState != 4)
        {
            return false
        }
        title_input = document.getElementById("article_title")
        content_input = document.getElementById("article_content")
        console.log(request.responseText)
        value = JSON.parse(request.responseText)
        title_input.value = value['title']
        content_input.value = value['content']
        return true
    }

    id = document.getElementById("getid").getAttribute("article-id")
    if(id != 0)
    {
        console.log('post')
        AsyncPost("/interface/article_json", {"id" : id}, getContent)
    }
    
</script>
